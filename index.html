<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ±å­å­¦OSæ„ŸæŸ“åº¦ãƒã‚§ãƒƒã‚¯ - 36å•è¨ºæ–­ï¼ˆå—è¬›ç”Ÿé™å®šï¼‰</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Hiragino Kaku Gothic ProN', 'ãƒ¡ã‚¤ãƒªã‚ª', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        /* ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”»é¢ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .password-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 500px;
            padding: 40px;
            text-align: center;
        }
        
        .password-screen h1 {
            font-size: 32px;
            color: #667eea;
            margin-bottom: 20px;
        }
        
        .password-screen p {
            color: #666;
            font-size: 16px;
            margin-bottom: 30px;
            line-height: 1.6;
        }
        
        .password-input-group {
            width: 100%;
            max-width: 400px;
        }
        
        .password-input {
            width: 100%;
            padding: 15px 20px;
            font-size: 18px;
            border: 2px solid #ddd;
            border-radius: 10px;
            margin-bottom: 15px;
            text-align: center;
            transition: all 0.3s;
        }
        
        .password-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.2);
        }
        
        .password-button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .password-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .password-error {
            color: #e74c3c;
            font-size: 14px;
            margin-top: 10px;
            display: none;
        }
        
        .lock-icon {
            font-size: 64px;
            margin-bottom: 20px;
        }
        
        /* è¨ºæ–­ç”»é¢ï¼ˆæœ€åˆã¯éè¡¨ç¤ºï¼‰ */
        .main-content {
            display: none;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .progress-bar {
            background: #e0e0e0;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin: 20px 30px;
        }
        
        .progress-fill {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .progress-text {
            text-align: center;
            color: #666;
            font-size: 14px;
            margin: 10px 0;
        }
        
        .questionnaire {
            padding: 30px;
        }
        
        .question-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            border-left: 5px solid #667eea;
        }
        
        .question-number {
            color: #667eea;
            font-weight: bold;
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        .question-text {
            font-size: 18px;
            color: #333;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .option {
            flex: 1;
            min-width: 80px;
            padding: 15px 10px;
            border: 2px solid #ddd;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
        }
        
        .option:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }
        
        .option.selected {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: #667eea;
            color: white;
            font-weight: bold;
        }
        
        .option-number {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .option-label {
            font-size: 11px;
        }
        
        .nav-buttons {
            display: flex;
            gap: 15px;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        button {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-prev {
            background: #95a5a6;
            color: white;
        }
        
        .btn-prev:hover:not(:disabled) {
            background: #7f8c8d;
            transform: translateY(-2px);
        }
        
        .btn-next, .btn-submit {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            flex: 1;
        }
        
        .btn-next:hover:not(:disabled), .btn-submit:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .results {
            padding: 30px;
            display: none;
        }
        
        .chart-container {
            position: relative;
            height: 500px;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .results-table {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
        }
        
        .results-table h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .result-row {
            display: flex;
            justify-content: space-between;
            padding: 12px;
            margin-bottom: 8px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        .result-label {
            font-size: 14px;
            color: #555;
        }
        
        .result-value {
            font-weight: bold;
            font-size: 16px;
        }
        
        .score-high { color: #e74c3c; }
        .score-medium { color: #f39c12; }
        .score-low { color: #27ae60; }
        
        .total-score {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .total-score h2 {
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .total-score .score {
            font-size: 48px;
            font-weight: bold;
        }
        
        .diagnosis {
            margin-top: 10px;
            font-size: 16px;
            opacity: 0.95;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
        }
        
        .btn-restart, .btn-save {
            flex: 1;
            padding: 15px;
        }
        
        .btn-restart {
            background: #95a5a6;
            color: white;
        }
        
        .btn-restart:hover {
            background: #7f8c8d;
        }
        
        .btn-save {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        @media (max-width: 768px) {
            .options {
                flex-direction: column;
            }
            
            .option {
                min-width: 100%;
            }
            
            .chart-container {
                height: 400px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›ç”»é¢ -->
        <div class="password-screen" id="passwordScreen">
            <div class="lock-icon">ğŸ”’</div>
            <h1>å—è¬›ç”Ÿé™å®šã‚³ãƒ³ãƒ†ãƒ³ãƒ„</h1>
            <p>ã“ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ã€Œè‡ªåˆ†2.0 OSè¬›åº§ã€å—è¬›ç”Ÿå°‚ç”¨ã§ã™ã€‚<br>è¬›åº§ã§ãŠä¼ãˆã—ãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</p>
            
            <div class="password-input-group">
                <input 
                    type="password" 
                    id="passwordInput" 
                    class="password-input" 
                    placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›"
                    onkeypress="if(event.key==='Enter') checkPassword()"
                >
                <button class="password-button" onclick="checkPassword()">
                    è¨ºæ–­ã‚’é–‹å§‹ã™ã‚‹ ğŸš€
                </button>
                <div class="password-error" id="passwordError">
                    âŒ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“
                </div>
            </div>
        </div>
        
        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆè¨ºæ–­ç”»é¢ï¼‰ -->
        <div class="main-content" id="mainContent">
            <div class="header">
                <h1>ğŸ“Š æœ±å­å­¦OSæ„ŸæŸ“åº¦ãƒã‚§ãƒƒã‚¯</h1>
                <p>36å•ã®è³ªå•ã«ç­”ãˆã¦ã€ã‚ãªãŸã®æœ±å­å­¦OSæ„ŸæŸ“åº¦ã‚’æ¸¬å®šã—ã¾ã™</p>
            </div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">è³ªå• 1 / 36</div>
            
            <div class="questionnaire" id="questionnaire">
                <div class="question-card">
                    <div class="question-number" id="questionNumber">è³ªå• 1</div>
                    <div class="question-text" id="questionText"></div>
                    
                    <div class="options">
                        <div class="option" onclick="selectOption(1)">
                            <div class="option-number">1</div>
                            <div class="option-label">å…¨ããªã„</div>
                        </div>
                        <div class="option" onclick="selectOption(2)">
                            <div class="option-number">2</div>
                            <div class="option-label">ãŸã¾ã«ã‚ã‚‹</div>
                        </div>
                        <div class="option" onclick="selectOption(3)">
                            <div class="option-number">3</div>
                            <div class="option-label">æ™‚ã€…ã‚ã‚‹</div>
                        </div>
                        <div class="option" onclick="selectOption(4)">
                            <div class="option-number">4</div>
                            <div class="option-label">ã‚ˆãã‚ã‚‹</div>
                        </div>
                        <div class="option" onclick="selectOption(5)">
                            <div class="option-number">5</div>
                            <div class="option-label">å¸¸ã«ã‚ã‚‹</div>
                        </div>
                    </div>
                </div>
                
                <div class="nav-buttons">
                    <button class="btn-prev" onclick="prevQuestion()" id="btnPrev" disabled>
                        â† å‰ã®è³ªå•
                    </button>
                    <button class="btn-next" onclick="nextQuestion()" id="btnNext" disabled>
                        æ¬¡ã®è³ªå• â†’
                    </button>
                    <button class="btn-submit" onclick="submitAnswers()" id="btnSubmit" style="display:none;" disabled>
                        çµæœã‚’è¦‹ã‚‹ ğŸ¯
                    </button>
                </div>
            </div>
            
            <div class="results" id="results">
                <h2 style="text-align: center; margin-bottom: 30px; color: #333;">è¨ºæ–­çµæœ</h2>
                
                <div class="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>
                
                <div class="results-table">
                    <h3>ğŸ“ˆ ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¥çµæœ</h3>
                    <div class="result-row">
                        <span class="result-label">â‘  æ¨©å¨æœå¾“ï¼ˆ6å•ï¼‰</span>
                        <span class="result-value" id="result1"></span>
                    </div>
                    <div class="result-row">
                        <span class="result-label">â‘¡ é›†å›£åŒèª¿ï¼ˆ6å•ï¼‰</span>
                        <span class="result-value" id="result2"></span>
                    </div>
                    <div class="result-row">
                        <span class="result-label">â‘¢ èª²é¡Œã®æ··åŒï¼ˆ6å•ï¼‰</span>
                        <span class="result-value" id="result3"></span>
                    </div>
                    <div class="result-row">
                        <span class="result-label">â‘£ è‡ªè²¬ãƒ»ä½è‡ªå·±è‚¯å®šæ„Ÿï¼ˆ6å•ï¼‰</span>
                        <span class="result-value" id="result4"></span>
                    </div>
                    <div class="result-row">
                        <span class="result-label">â‘¤ å®Œç’§ä¸»ç¾©ãƒ»è©•ä¾¡ä¾å­˜ï¼ˆ6å•ï¼‰</span>
                        <span class="result-value" id="result5"></span>
                    </div>
                    <div class="result-row">
                        <span class="result-label">â‘¥ èªçŸ¥ã®ç¡¬ç›´æ€§ï¼ˆ6å•ï¼‰</span>
                        <span class="result-value" id="result6"></span>
                    </div>
                </div>
                
                <div class="total-score">
                    <h2>ç·åˆã‚¹ã‚³ã‚¢</h2>
                    <div class="score" id="totalScore">0</div>
                    <div class="diagnosis" id="diagnosis"></div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn-restart" onclick="restart()">ğŸ”„ ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
                    <button class="btn-save" onclick="saveChart()">ğŸ’¾ çµæœã‚’ç”»åƒä¿å­˜</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼
        const correctPassword = 'jibun2024';
        
        function checkPassword() {
            const input = document.getElementById('passwordInput').value;
            const errorMsg = document.getElementById('passwordError');
            
            if (input === correctPassword) {
                // èªè¨¼æˆåŠŸ
                document.getElementById('passwordScreen').style.display = 'none';
                document.getElementById('mainContent').style.display = 'block';
                init();
            } else {
                // èªè¨¼å¤±æ•—
                errorMsg.style.display = 'block';
                document.getElementById('passwordInput').value = '';
                document.getElementById('passwordInput').focus();
                
                // 3ç§’å¾Œã«ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’éè¡¨ç¤º
                setTimeout(() => {
                    errorMsg.style.display = 'none';
                }, 3000);
            }
        }
        
        // 36å•ã®å³é¸ã•ã‚ŒãŸè³ªå•ãƒ‡ãƒ¼ã‚¿ï¼ˆæœ±å­å­¦OSã©çœŸã‚“ä¸­ã®ã¿ï¼‰
        const questionsBase = [
            // ã‚«ãƒ†ã‚´ãƒªãƒ¼1: æ¨©å¨æœå¾“ï¼ˆ6å•ï¼‰
            { text: "è¦ªã‚„ä¸Šå¸ã®æœŸå¾…ã«å¿œãˆã‚‰ã‚Œãªã„ã¨ã€å¼·ã„ç½ªæ‚ªæ„Ÿã‚’æ„Ÿã˜ã‚‹", category: 1 },
            { text: "ç›®ä¸Šã®äººã®æ„è¦‹ã«ã¯ã€ç–‘å•ãŒã‚ã£ã¦ã‚‚å¾“ã†ã¹ãã ã¨æ€ã†", category: 1 },
            { text: "å¹´é•·è€…ã‚„ä¸Šå¸ã«æ„è¦‹ã™ã‚‹ã“ã¨ã¯ã€å¤±ç¤¼ã ã¨æ„Ÿã˜ã‚‹", category: 1 },
            { text: "ã€Œè¦ªã®æ©ã€ã€Œä¼šç¤¾ã®æ©ã€ã‚’è¿”ã•ãªã‘ã‚Œã°ãªã‚‰ãªã„ã¨ã„ã†ãƒ—ãƒ¬ãƒƒã‚·ãƒ£ãƒ¼ã‚’æ„Ÿã˜ã‚‹", category: 1 },
            { text: "è¦ªå­è¡Œã¯çµ¶å¯¾ã«ã™ã¹ãã ã¨æ€ã†", category: 1 },
            { text: "ä¸Šå¸ã‚„å…ˆè¼©ã®æŒ‡ç¤ºã«ã¯ã€ç†ä¸å°½ã ã¨æ„Ÿã˜ã¦ã‚‚ã€Œã¯ã„ã€ã¨ç­”ãˆã¦ã—ã¾ã†", category: 1 },
            
            // ã‚«ãƒ†ã‚´ãƒªãƒ¼2: é›†å›£åŒèª¿ï¼ˆ6å•ï¼‰
            { text: "è‡ªåˆ†ã®æ„è¦‹ã‚ˆã‚Šã‚‚ã€ãã®å ´ã®ç©ºæ°—ã‚„å‘¨ã‚Šã®æ„è¦‹ã‚’å„ªå…ˆã—ã¦ã—ã¾ã†", category: 2 },
            { text: "å’Œã‚’ä¹±ã™ãã‚‰ã„ãªã‚‰ã€è‡ªåˆ†ãŒæˆ‘æ…¢ã™ã‚‹æ–¹ã‚’é¸ã¶", category: 2 },
            { text: "ã€Œçš†ãŒã‚„ã£ã¦ã„ã‚‹ã€ã“ã¨ã«ã¯ã€ç–‘å•ãŒã‚ã£ã¦ã‚‚å¾“ã£ãŸæ–¹ãŒè‰¯ã„ã¨æ€ã†", category: 2 },
            { text: "å‘¨ã‚Šã¨é•ã†ã“ã¨ã‚’ã™ã‚‹ã¨ã€æµ®ã„ã¦ã—ã¾ã†ã®ã§ã¯ãªã„ã‹ã¨ä¸å®‰ã«ãªã‚‹", category: 2 },
            { text: "ã€Œå¸¸è­˜ã€ã‚„ã€Œä¸–é–“ä½“ã€ã‚’æ°—ã«ã—ã¦ã€è¡Œå‹•ã‚’åˆ¶é™ã—ã¦ã—ã¾ã†", category: 2 },
            { text: "å¤šæ•°æ´¾ã®æ„è¦‹ã«åå¯¾ã™ã‚‹ã“ã¨ãŒã€ã¨ã¦ã‚‚é›£ã—ã„", category: 2 },
            
            // ã‚«ãƒ†ã‚´ãƒªãƒ¼3: èª²é¡Œã®æ··åŒï¼ˆ6å•ï¼‰
            { text: "å®¶æ—ã‚„å‹äººã®æ©Ÿå«ŒãŒæ‚ªã„ã¨ã€è‡ªåˆ†ã®ã›ã„ã ã¨æ„Ÿã˜ã¦ã—ã¾ã†", category: 3 },
            { text: "è¦ªã®è€å¾Œã‚„å¹¸ã›ã¯ã€è‡ªåˆ†ãŒè²¬ä»»ã‚’æŒã¤ã¹ãã ã¨æ€ã†", category: 3 },
            { text: "ä»–äººã®å•é¡Œã‚’ã€è‡ªåˆ†ãŒè§£æ±ºã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã¨æ„Ÿã˜ã‚‹", category: 3 },
            { text: "ã€Œå®¶æ—ã®ãŸã‚ã«ã€ã€Œä¼šç¤¾ã®ãŸã‚ã«ã€ã¨ã€è‡ªåˆ†ã®äººç”Ÿã‚’å¾Œå›ã—ã«ã™ã‚‹", category: 3 },
            { text: "ç›¸æ‰‹ã®æœŸå¾…ã«å¿œãˆã‚‰ã‚Œãªã„ã“ã¨ã«ã€å¼·ã„è²¬ä»»ã‚’æ„Ÿã˜ã‚‹", category: 3 },
            { text: "ä»–äººã‹ã‚‰ã®è©•ä¾¡ã§ã€è‡ªåˆ†ã®ä¾¡å€¤ãŒæ±ºã¾ã‚‹ã¨æ„Ÿã˜ã‚‹", category: 3 },
            
            // ã‚«ãƒ†ã‚´ãƒªãƒ¼4: è‡ªè²¬ãƒ»ä½è‡ªå·±è‚¯å®šæ„Ÿï¼ˆ6å•ï¼‰
            { text: "ä½•ã‹ã†ã¾ãã„ã‹ãªã„ã¨ãã€ã¾ãšã€Œè‡ªåˆ†ã®åŠªåŠ›ä¸è¶³ã€ã ã¨è€ƒãˆã‚‹", category: 4 },
            { text: "ä»–äººã«è¿·æƒ‘ã‚’ã‹ã‘ã‚‹ã“ã¨ã‚’ã€æ¥µåº¦ã«æã‚Œã¦ã„ã‚‹", category: 4 },
            { text: "å¤±æ•—ã™ã‚‹ã¨ã€è‡ªåˆ†ã®èƒ½åŠ›ã‚„äººæ ¼ã¾ã§å¦å®šã—ã¦ã—ã¾ã†", category: 4 },
            { text: "è‡ªåˆ†ã®å­˜åœ¨ãŒã€èª°ã‹ã®è² æ‹…ã«ãªã£ã¦ã„ã‚‹ã®ã§ã¯ãªã„ã‹ã¨å¿ƒé…ã«ãªã‚‹", category: 4 },
            { text: "ã€Œè‡ªåˆ†ã•ãˆæˆ‘æ…¢ã™ã‚Œã°ã€ã¨è€ƒãˆã¦ã€è‹¦ã—ã„çŠ¶æ³ã‚’å—ã‘å…¥ã‚Œã¦ã—ã¾ã†", category: 4 },
            { text: "è¾›ã„çŠ¶æ³ã§ã‚‚ã€Œé€ƒã’ã‚‹ã®ã¯ç”˜ãˆã€ã ã¨æ€ã„ã€è€ãˆç¶šã‘ã¦ã—ã¾ã†", category: 4 },
            
            // ã‚«ãƒ†ã‚´ãƒªãƒ¼5: å®Œç’§ä¸»ç¾©ãƒ»è©•ä¾¡ä¾å­˜ï¼ˆ6å•ï¼‰
            { text: "70ç‚¹ã®æˆæœã§ã¯æº€è¶³ã§ããšã€å¸¸ã«100ç‚¹ã‚’ç›®æŒ‡ã—ã¦ã—ã¾ã†", category: 5 },
            { text: "ã€Œã¡ã‚ƒã‚“ã¨ã§ãã¦ã„ãªã„ã€è‡ªåˆ†ã‚’å—ã‘å…¥ã‚Œã‚‰ã‚Œãªã„", category: 5 },
            { text: "ä¼‘ã‚€ã“ã¨ã‚„æ‰‹ã‚’æŠœãã“ã¨ã«ã€ç½ªæ‚ªæ„Ÿã‚’æ„Ÿã˜ã‚‹", category: 5 },
            { text: "ã€Œã§ããªã„è‡ªåˆ†ã€ã€Œå¼±ã„è‡ªåˆ†ã€ã‚’ä»–äººã«è¦‹ã›ãŸããªã„", category: 5 },
            { text: "ä»–äººã‹ã‚‰èªã‚ã‚‰ã‚Œãªã„ã¨ã€è‡ªåˆ†ã®å­˜åœ¨æ„ç¾©ã‚’è¦‹å‡ºã›ãªã„", category: 5 },
            { text: "ã€Œå½¹ã«ç«‹ãŸãªã„è‡ªåˆ†ã€ã¯å­˜åœ¨ã™ã‚‹ä¾¡å€¤ãŒãªã„ã¨æ€ã†", category: 5 },
            
            // ã‚«ãƒ†ã‚´ãƒªãƒ¼6: èªçŸ¥ã®ç¡¬ç›´æ€§ï¼ˆ6å•ï¼‰
            { text: "ç‰©äº‹ã‚’ã€Œæ­£ã—ã„/é–“é•ã„ã€ã€Œâ—‹/Ã—ã€ã®äºŒæŠã§åˆ¤æ–­ã—ã¦ã—ã¾ã†", category: 6 },
            { text: "ä¸€åº¦ã€Œã“ã‚ŒãŒæ­£ã—ã„ã€ã¨æ€ã†ã¨ã€ä»–ã®å¯èƒ½æ€§ã‚’è€ƒãˆã‚‰ã‚Œãªããªã‚‹", category: 6 },
            { text: "ã€Œã€œã™ã¹ãã€ã€Œã€œã­ã°ãªã‚‰ãªã„ã€ã¨ã„ã†è€ƒãˆæ–¹ã«ç¸›ã‚‰ã‚Œã¦ã„ã‚‹", category: 6 },
            { text: "ç‰©äº‹ã‚’å¤šé¢çš„ã«è¦‹ã‚‹ã“ã¨ãŒé›£ã—ãã€ä¸€ã¤ã®è¦–ç‚¹ã«å›ºåŸ·ã—ã¦ã—ã¾ã†", category: 6 },
            { text: "ã€Œã“ã†ã‚ã‚‹ã¹ãã€ã¨ã„ã†ç†æƒ³ã¨ç¾å®Ÿã®ã‚®ãƒ£ãƒƒãƒ—ã«è‹¦ã—ã‚€", category: 6 },
            { text: "è¨ˆç”»é€šã‚Šã«é€²ã¾ãªã„ã¨ã€å¼·ã„ä¸å®‰ã‚„ã‚¤ãƒ©ã‚¤ãƒ©ã‚’æ„Ÿã˜ã‚‹", category: 6 }
        ];
        
        // è³ªå•ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«
        let questions = [];
        let questionOrder = [];
        let currentQuestion = 0;
        let answers = new Array(36).fill(0);
        let radarChart = null;
        
        // Fisher-Yatesã‚·ãƒ£ãƒƒãƒ•ãƒ«ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }
        
        // åˆæœŸåŒ–
        function init() {
            // è³ªå•ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«
            questions = shuffleArray(questionsBase);
            showQuestion(0);
        }
        
        // è³ªå•ã‚’è¡¨ç¤º
        function showQuestion(index) {
            currentQuestion = index;
            document.getElementById('questionNumber').textContent = `è³ªå• ${index + 1}`;
            document.getElementById('questionText').textContent = questions[index].text;
            document.getElementById('progressText').textContent = `è³ªå• ${index + 1} / 36`;
            document.getElementById('progressFill').style.width = `${((index + 1) / 36) * 100}%`;
            
            // é¸æŠçŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ
            const options = document.querySelectorAll('.option');
            options.forEach(opt => opt.classList.remove('selected'));
            
            // æ—¢ã«å›ç­”æ¸ˆã¿ã®å ´åˆã¯é¸æŠçŠ¶æ…‹ã‚’å¾©å…ƒ
            if (answers[index] > 0) {
                options[answers[index] - 1].classList.add('selected');
            }
            
            // ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹ã‚’æ›´æ–°
            updateButtons();
        }
        
        // é¸æŠè‚¢ã‚’é¸æŠ
        function selectOption(value) {
            answers[currentQuestion] = value;
            
            // é¸æŠçŠ¶æ…‹ã‚’æ›´æ–°
            const options = document.querySelectorAll('.option');
            options.forEach(opt => opt.classList.remove('selected'));
            options[value - 1].classList.add('selected');
            
            // ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹ã‚’æ›´æ–°
            updateButtons();
        }
        
        // ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹ã‚’æ›´æ–°
        function updateButtons() {
            const btnPrev = document.getElementById('btnPrev');
            const btnNext = document.getElementById('btnNext');
            const btnSubmit = document.getElementById('btnSubmit');
            
            btnPrev.disabled = currentQuestion === 0;
            
            if (currentQuestion === 35) {
                btnNext.style.display = 'none';
                btnSubmit.style.display = 'block';
                btnSubmit.disabled = answers[currentQuestion] === 0;
            } else {
                btnNext.style.display = 'block';
                btnSubmit.style.display = 'none';
                btnNext.disabled = answers[currentQuestion] === 0;
            }
        }
        
        // å‰ã®è³ªå•ã¸
        function prevQuestion() {
            if (currentQuestion > 0) {
                showQuestion(currentQuestion - 1);
            }
        }
        
        // æ¬¡ã®è³ªå•ã¸
        function nextQuestion() {
            if (currentQuestion < 35 && answers[currentQuestion] > 0) {
                showQuestion(currentQuestion + 1);
            }
        }
        
        // å›ç­”ã‚’é›†è¨ˆã—ã¦çµæœã‚’è¡¨ç¤º
        function submitAnswers() {
            // ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¥ã«é›†è¨ˆ
            const categoryScores = [0, 0, 0, 0, 0, 0];
            questions.forEach((q, i) => {
                categoryScores[q.category - 1] += answers[i];
            });
            
            // ç”»é¢ã‚’åˆ‡ã‚Šæ›¿ãˆ
            document.getElementById('questionnaire').style.display = 'none';
            document.getElementById('results').style.display = 'block';
            
            // ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆã‚’ç”Ÿæˆ
            createRadarChart(categoryScores);
            
            // çµæœã‚’è¡¨ç¤º
            displayResults(categoryScores);
            
            // ãƒšãƒ¼ã‚¸ãƒˆãƒƒãƒ—ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
            window.scrollTo(0, 0);
        }
        
        // ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆç”Ÿæˆ
        function createRadarChart(scores) {
            const ctx = document.getElementById('radarChart');
            
            if (radarChart) {
                radarChart.destroy();
            }
            
            radarChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['æ¨©å¨æœå¾“', 'é›†å›£åŒèª¿', 'èª²é¡Œã®æ··åŒ', 'è‡ªè²¬ãƒ»ä½è‡ªå·±è‚¯å®šæ„Ÿ', 'å®Œç’§ä¸»ç¾©ãƒ»è©•ä¾¡ä¾å­˜', 'èªçŸ¥ã®ç¡¬ç›´æ€§'],
                    datasets: [{
                        label: 'ã‚ãªãŸã®ã‚¹ã‚³ã‚¢',
                        data: scores,
                        fill: true,
                        backgroundColor: 'rgba(102, 126, 234, 0.2)',
                        borderColor: 'rgb(102, 126, 234)',
                        pointBackgroundColor: 'rgb(102, 126, 234)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgb(102, 126, 234)',
                        pointRadius: 6,
                        pointHoverRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            min: 0,
                            max: 30,
                            ticks: {
                                stepSize: 6,
                                font: {
                                    size: 12
                                }
                            },
                            pointLabels: {
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }
        
        // çµæœã‚’è¡¨ç¤º
        function displayResults(scores) {
            const total = scores.reduce((sum, score) => sum + score, 0);
            
            // ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¥çµæœ
            scores.forEach((score, i) => {
                const percentage = (score / 30 * 100).toFixed(0);
                const elem = document.getElementById(`result${i + 1}`);
                elem.textContent = `${score}/30ç‚¹ (${percentage}%)`;
                
                if (percentage >= 80) {
                    elem.className = 'result-value score-high';
                } else if (percentage >= 60) {
                    elem.className = 'result-value score-medium';
                } else {
                    elem.className = 'result-value score-low';
                }
            });
            
            // ç·åˆã‚¹ã‚³ã‚¢ï¼ˆ180ç‚¹æº€ç‚¹ï¼‰
            document.getElementById('totalScore').textContent = `${total} / 180`;
            
            // è¨ºæ–­ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
            let diagnosis = '';
            if (total >= 144) {
                diagnosis = 'ğŸ”´ å±é™ºé ˜åŸŸ - æ—©æ€¥ãªOSã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒå¿…è¦ã§ã™';
            } else if (total >= 108) {
                diagnosis = 'ğŸŸ  è­¦æˆ’é ˜åŸŸ - æ„è­˜çš„ãªOSå…¥ã‚Œæ›¿ãˆãŒæ¨å¥¨ã•ã‚Œã¾ã™';
            } else if (total >= 72) {
                diagnosis = 'ğŸŸ¡ æ³¨æ„é ˜åŸŸ - äºˆé˜²çš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒæœ‰åŠ¹ã§ã™';
            } else if (total >= 36) {
                diagnosis = 'ğŸŸ¢ å®‰å…¨é ˜åŸŸ - æ¯”è¼ƒçš„å¥å…¨ãªçŠ¶æ…‹ã§ã™';
            } else {
                diagnosis = 'âšª ç†æƒ³é ˜åŸŸ - ç´ æ™´ã‚‰ã—ã„çŠ¶æ…‹ã§ã™ï¼';
            }
            document.getElementById('diagnosis').textContent = diagnosis;
        }
        
        // æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™
        function restart() {
            currentQuestion = 0;
            answers = new Array(36).fill(0);
            document.getElementById('questionnaire').style.display = 'block';
            document.getElementById('results').style.display = 'none';
            // å†ã‚·ãƒ£ãƒƒãƒ•ãƒ«
            questions = shuffleArray(questionsBase);
            showQuestion(0);
            window.scrollTo(0, 0);
        }
        
        // çµæœã‚’ç”»åƒä¿å­˜
        function saveChart() {
            const canvas = document.getElementById('radarChart');
            const url = canvas.toDataURL('image/png');
            const link = document.createElement('a');
            link.download = 'æœ±å­å­¦OSæ„ŸæŸ“åº¦è¨ºæ–­çµæœ.png';
            link.href = url;
            link.click();
            alert('è¨ºæ–­çµæœã‚’ç”»åƒã¨ã—ã¦ä¿å­˜ã—ã¾ã—ãŸï¼');
        }
    </script>
</body>
</html>